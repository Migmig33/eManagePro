

    <section>
        <p class="section-header">Operations</p>

       

        <div class="table-operation" style=" box-shadow: -10px 10px 10px rgb(79, 73, 73);">
            <p style="font-weight: 500; margin: 20px 50px;" class="title_table">Operations<span id="addOperate"><i
                        class="fa-solid fa-plus"
                        style="margin-left:4px; border: 1px solid white; border-radius: 50%; padding: 1px; font-size: 15px"></i></span>
            </p>
            <?php if ($result_operations && $result_operations->num_rows > 0): ?>
                <table border="1" cellpadding="10">
                    <tr>
                        <th>Operation Id</th>
                        <th>Operation Name</th>
                        <th>Operated By</th>
                        <th>Desciption</th>
                        <th>Delete</th>
                        <th>Update</th>

                    </tr>
                    <?php while ($row = $result_operations->fetch_assoc()): ?>
                        <tr>
                            <td><?php echo htmlspecialchars($row['operation_id']) ?></td>
                            <td><?php echo htmlspecialchars($row['operation_name']) ?></td>
                            <td><?php echo htmlspecialchars($row['operated_by']) ?></td>
                            <td><?php echo htmlspecialchars($row['description']) ?></td>
                            <td>
                                <a class="delete-btn" href="func/deleteoperation.php?id=<?php echo $row['operation_id']; ?>"
                                    onclick="return confirm('Are you sure u want to delete this operation?');">Delete</a>
                            </td>
                            <td>
                                <a class="update-btn showUpdateForm" href="#" data-id="<?php echo $row['operation_id']; ?>"
                                    data-name="<?php echo $row['operation_name']; ?> "
                                    data-description="<?php echo $row['description']; ?>"
                                    data-status="<?php echo $row['isactive']; ?>">Update</a>
                            </td>
                        </tr>
                    <?php endwhile; ?>
                </table>
            <?php else: ?>
                <p style="text-align: center; justify-content: center;">No Transaction History</p>
            <?php endif; ?>
        </div>

        <div class="displayaddoperate" id="formoperate">
            <p>Add Operation</p>
            <form action="func/insertoperation.php" method="post" style=" 
                 display: flex;
                 flex-direction: column;
                 justify-content: center;
                 ">

                <label for="operation_name">Operation:</label>
                <input type="text" name="operation_name" id="operation_name" required>

                <label for="description">Description:</label>
                <input type="text" name="description" id="description" required>

                <label for="isactive">Status:</label>
                <select id="isactive" name="isactive">
                    <option value="1">InProgress</option>
                    <option value="0">Completed</option>

                </select>

                <input type="submit" value="Add Operation">
                <p id="exitformoperate" style="font-size: 12px; text-align: center; cursor:pointer;">Exit</p>
            </form>
        </div>


        <div class="displayupdateform" id="updateformoperation">
            <p>Update</p>
            <form action="func/updateoperation.php" method="post" style=" 
                 display: flex;
                 flex-direction: column;
                 justify-content: center;
                 ">
                <input type="hidden" name="operation_id"
                    value="<?php echo htmlspecialchars($operation_updates['operation_id']) ?>">
                Operation: <input type="text" name="operation_name"
                    value="<?php echo htmlspecialchars($operation_updates['operation_name']); ?>" required><br><br>
                Description: <input type="text" name="description"
                    value="<?php echo htmlspecialchars($operation_updates['description']); ?>" required><br><br>
                Status: <select id="isactive" name="isactive" required>
                    <option value="1" <?php echo ($operation_updates['isactive'] == 1) ? 'selected' : '' ?>>InProgress
                    </option>
                    <option value="0" <?php echo ($operation_updates['isactive'] == 0) ? 'selected' : '' ?>>Completed
                    </option>

                </select>

                <input type="submit" value="Update Operation">
                <p id="exitupdateform" style="font-size: 12px; text-align: center; cursor:pointer;">Exit</p>
            </form>
        </div>





        </div>
    </section>

    <section>
        <p class="section-header">Inventory</p>

        <div class="inventory-content">
            <div class="table-inventory" style=" box-shadow: -10px 10px 10px rgb(79, 73, 73);">
                <p style="font-weight: 500; margin: 20px 50px;" class="title_table">Inventory<span id="addItem"><i
                            class="fa-solid fa-plus"
                            style="margin-left:4px; border: 1px solid white; border-radius: 50%; padding: 1px; font-size: 15px"></i></span>
                </p>
                <?php if ($result_inventory && $result_inventory->num_rows > 0): ?>
                    <table border="1" cellpadding="10">
                        <tr>
                            <th>Product id</th>
                            <th>Product Name</th>
                            <th>Price</th>
                            <th>Stock</th>
                            <th>Added By</th>
                            <th>Delete</th>
                            <th>Update</th>

                        </tr>
                        <?php while ($row = $result_inventory->fetch_assoc()): ?>
                            <tr>
                                <td><?php echo htmlspecialchars($row['item_id']) ?></td>
                                <td><?php echo htmlspecialchars($row['item_name']) ?></td>
                                <td><?php echo htmlspecialchars($row['price']) ?></td>
                                <td><?php echo htmlspecialchars($row['stock']) ?></td>
                                <td><?php echo htmlspecialchars($row['added_by']) ?></td>

                                <td>
                                    <a class="delete-btn" href="func/deleteitem.php?id=<?php echo $row['item_id']; ?>"
                                        onclick="return confirm('Are you sure u want to delete this operation?');">Delete</a>
                                </td>
                                <td>
                                    <a class="update-btn showUpdateForm" href="#" data-id="<?php echo $row['item_id']; ?>"
                                        data-name="<?php echo $row['item_name']; ?> "
                                        data-description="<?php echo $row['price']; ?>"
                                        data-status="<?php echo $row['stock']; ?>">Update</a>
                                </td>
                            </tr>
                        <?php endwhile; ?>
                    </table>
                <?php else: ?>
                    <p style="text-align: center; justify-content: center;">No Items</p>
                <?php endif; ?>
            </div>
            <?php $conn->close(); ?>

        </div>

          <div class="displayadditem" id="formitem">
            <p>Add Item</p>
            <form action="func/insertitem.php" method="post" style=" 
                 display: flex;
                 flex-direction: column;
                 justify-content: center;
                 ">

                <label for="item_name">Item:</label>
                <input type="text" name="item_name" id="item_name" required>

                <label for="price">Price:</label>
                <input type="number" name="price" id="price" required>

                <label for="stock">Stock:</label>
                <input type="number" name="price" id="price" required>
                <input type="submit" value="Add Item">
                <p id="exitformitem" style="font-size: 12px; text-align: center; cursor:pointer;">Exit</p>
            </form>
        </div>

            <div class="displayupdateitemform" id="updateformitem">
            <p>Update</p>
            <form action="func/updateitem.php" method="post" style=" 
                 display: flex;
                 flex-direction: column;
                 justify-content: center;
                 ">
                <input type="hidden" name="item_id"
                    value="<?php echo htmlspecialchars($item_updates['item_id']) ?>">
                Operation: <input type="text" name="operation_name"
                    value="<?php echo htmlspecialchars($item_updates['item_name']); ?>" required><br><br>
                Description: <input type="text" name="description"
                    value="<?php echo htmlspecialchars($item_updates['price']); ?>" required><br><br>
             
                <input type="submit" value="Update Item">
                <p id="exitupdateitemform" style="font-size: 12px; text-align: center; cursor:pointer;">Exit</p>
            </form>
        </div>

    </section>






     <div class="table-dashboard" style=" box-shadow: -10px 10px 10px rgb(79, 73, 73);">
            <p style="font-weight: 500; margin: 20px 50px;" class="title_table">Recent Transaction<span
                    id="addTransac"><i class="fa-solid fa-plus"
                        style="margin-left:4px; border: 1px solid white; border-radius: 50%; padding: 1px; font-size: 15px"></i></span>
            </p>
            <?php if ($result_transactions && $result_transactions->num_rows > 0): ?>
                <table border="1" cellpadding="10">
                    <tr>
                        <th>Transaction ID</th>
                        <th>Transaction Name</th>
                        <th>Transaction By</th>
                        <th>Item ID</th>
                        <th>Quantity</th>
                        <th>Delete</th>

                    </tr>
                    <?php while ($row = $result_transactions->fetch_assoc()): ?>
                        <tr>
                            <td><?php echo htmlspecialchars($row['transaction_id']) ?></td>
                            <td><?php echo htmlspecialchars($row['transaction_name']) ?></td>
                            <td><?php echo htmlspecialchars($row['transactioned_by']) ?></td>
                            <td><?php echo htmlspecialchars($row['quantity']) ?></td>
                            <td><?php echo htmlspecialchars($row['item_id']) ?></td>
                            <td>
                                <a class="delete-btn" href="func/deletetransac.php?id=<?php echo $row['transaction_id']; ?>"
                                    onclick="return confirm('Are you sure u want to delete this transaction');">Delete</a>
                            </td>
                        </tr>
                    <?php endwhile; ?>
                </table>
            <?php else: ?>
                <p style="text-align: center; justify-content: center;">No Transaction History</p>
            <?php endif; ?>
        </div>
    </div>


